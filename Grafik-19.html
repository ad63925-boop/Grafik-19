<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="grafikstyle.css">
<link rel="stylesheet" href="../burgerMenu/menustyle.css">
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="icon" href="https://cdn-icons-png.flaticon.com/512/3845/3845798.png">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<title>–ì—Ä–∞—Ñ–∏–∫ –æ—Ö—Ä–∞–Ω—ã</title>
</head>
<body>

     <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-shield-alt"></i>
                <span>–ó–∞—â–∏—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</span>
            </div>
            <div class="nav-menu">
                <a href="profile.html" class="nav-link"><i class="fas fa-user"></i> –ü—Ä–æ—Ñ–∏–ª—å</a>
                <button class="nav-logout" onclick="Auth.logout()"><i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏</button>
            </div>
        </div>
    </nav>
	
<!-- –ë—É—Ä–≥–µ—Ä -->
<div class="burger" title="–ú–µ–Ω—é">
  <span></span>
  <span></span>
  <span></span>
</div>

<!-- –ü—Ä–∞–≤–æ–µ –º–µ–Ω—é -->
<div id="sideMenu" class="side-menu">
  <a href="https://alexdemidenk0.neocities.org/">–ì–ª–∞–≤–Ω–∞—è</a>
  <a href="https://alexdemidenk0.neocities.org/recept/recept">–†–µ—Ü–µ–ø—Ç—ã</a>
  <a href="https://alexdemidenk0.neocities.org/exchange/exchange">–ö—É—Ä—Å –≤–∞–ª—é—Ç</a>
  <a href="https://alexdemidenk0.neocities.org/calculatorMany/calculator">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</a>
  <a href="https://alexdemidenk0.neocities.org/primery/primery">–¢—Ä–µ–Ω–∞–∂–µ—Ä *-/+</a>
  <a href="https://alexdemidenk0.neocities.org/people/people_card">–ö–∞—Ä—Ç–æ—á–∫–∏ –î–†</a>
  <a href="https://alexdemidenk0.neocities.org/docs/document">–î–æ–∫—É–º–µ–Ω—Ç—ã</a>  
  
  <hr>
  <a href="https://alexdemidenk0.neocities.org/possible">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ üìú</a>
  <a href="mailto:ad63925@gmail.com">–ù–∞–ø–∏—Å–∞—Ç—å –Ω–∞–º üìß</a> 
  </div>

<hr>

<div id="a4">

<!-- –ü–∞–Ω–µ–ª—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ—Å—è—Ü–µ–≤ -->
<div class="panelMonth">
    <button class="btn-graf" onclick="prevMonth()">
      <i class="fa-solid fa-chevron-left"></i>
    </button>
    <input type="month" id="monthPicker" class="monthPicker" onchange="loadMonthFromPicker()">
    <button class="btn-graf" onclick="nextMonth()">
      <i class="fa-solid fa-chevron-right"></i>
    </button>
    <button class="btn-graf" onclick="goToday()">
      <i class="fa-solid fa-calendar-days"></i>
    </button>
	<button class="btn-graf" id="btnSetting" onclick="openPanelSeting()">
    <i class="fa-solid fa-gear"></i>
  </button>
      <button id="toggleViewBtn" class="btn-graf">
        <i class="fa-solid fa-arrow-right-arrow-left"></i>
      </button>
</div>

<h2>–ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã –æ—Ö—Ä–∞–Ω—ã –®-19</h2>

<div class="table-wrapper">
    <table id="scheduleTable"></table>
</div>

<!-- –ì—Ä–∞—Ñ–∏–∫ –Ω–∞ –æ–¥–Ω–æ–≥–æ –æ—Ö—Ä–∞–Ω–∏–∫–∞ -->
<div id="calendarView" hidden>

  <div class="calendar-header">
    <select id="guardSelect"></select>
    
    <button id="prevMonth">
      <i class="fa-solid fa-angle-left"></i>
    </button>
    <span id="monthLabel" class="monthLabel"></span>
    <button id="nextMonth">
      <i class="fa-solid fa-angle-right"></i>
    </button>
  </div>

  <div class="calendar-grid" id="calendarGrid"></div>
</div>

<br>

</div><!-- A4 -->

<!-- –ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
<div id="panelSeting" class="is-hidden">
	<div class="panel-header">
    <span><i class="fa-solid fa-gear"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
    <button class="btn-close" onclick="closeSettings()">
      <i class="fa-solid fa-xmark">
    </i></button>
</div>

<div class="panel">
<input type="text" id="newEmployeeName" class="inputNewName" placeholder="+ –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤ –±–∞–∑—É">
<button class="btn-graf" onclick="addEmployeeToList()">
  <i class="fa-solid fa-plus"></i> –í –±–∞–∑—É</button>
<br>
<select id="employeeSelect" class="selectName"></select>
<button class="btn-graf" onclick="addEmployeeToTable()"><i class="fa-solid fa-plus"></i> –í –≥—Ä–∞—Ñ–∏–∫ –æ—Ç–¥–µ–ª—å–Ω–æ</button>
<button class="btn-graf" onclick="removeEmployeeFromList()"><i class="fa-solid fa-trash"></i> –£–¥–∞–ª–∏—Ç—å</button>
<button class="btn-graf" onclick="showEmployeesPanel()"><i class="fa-solid fa-database"></i> –ë–∞–∑–∞ –°–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤!</button>
<button class="btn-graf" onclick="clearShifts()"><i class="fa-solid fa-broom"></i> –û—á–∏—Å—Ç–∏—Ç—å —Å–º–µ–Ω—ã</button>
</div>

<hr>

<div class="panel">
    <button id="screenshotBtn" class="btn-graf">
      <i class="fa-regular fa-images"></i> –°–∫—Ä–∏–Ω—à–æ—Ç</button>
</div>
<hr>
<!-- –®–∞–±–ª–æ–Ω—ã —Å–º–µ–Ω -->
<div class="panel">
    <button class="btn-graf" onclick="applyTemplateForOne('2_2')">
      <i class="fa-solid fa-clone"></i> –®–∞–±–ª–æ–Ω 2–¥/2–≤</button>
    <button class="btn-graf" onclick="applyTemplateForOne('4_2')">
      <i class="fa-solid fa-clone"></i> –®–∞–±–ª–æ–Ω 4–¥/2–≤</button>
    <button class="btn-graf" onclick="showapplyBatch()">
      <i class="fa-regular fa-calendar-check"></i> –î–æ–±–∞–≤–∏—Ç—å —Å–º–µ–Ω—ã</button>
</div>
<hr>

<!-- –≠–∫—Å–ø–æ—Ä—Ç –∏ –∏–º–ø–æ—Ä—Ç -->
<div class="panel">
    <button class="btn-graf" onclick="exportData()">
      <i class="fa-solid fa-file-export"></i> –≠–∫—Å–ø–æ—Ä—Ç</button>
    <button class="btn-graf" onclick="document.getElementById('fileInput').click()">
      <i class="fa-solid fa-file-import"></i> –ò–º–ø–æ—Ä—Ç</button>
    <input type="file" id="fileInput" accept=".json" style="display: none;" onchange="importData(event)">
</div>
<hr>
	<div class="panel">
	<label for="printScale">–†–∞–∑–º–µ—Ä –ø–µ—á–∞—Ç–∏:</label>
    <select id="printScale" class="printScale">
        <option value="0.6">–ú–∞–ª–µ–Ω—å–∫–∏–π</option>
        <option value="0.8" selected>–°—Ä–µ–¥–Ω–∏–π</option>
        <option value="1">–ë–æ–ª—å—à–æ–π</option>
    </select>
    <label for="copiInput">–ö–æ–ø–∏–∏:</label>
    <input type="number" id="copiInput" class="printCopy" placeholder="1">
    <button class="btn-graf" onclick="printSchedule()">
      <i class="fa-solid fa-print"></i> –ü–µ—á–∞—Ç—å</button>
	</div>

</div>

<!-- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–º–µ–Ω -->

<!-- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–º–µ–Ω –ø–æ –¥–∞—Ç–∞–º -->
<div id="batchShift" class="batch-shift-form">
  <h4>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–º–µ–Ω</h4>

  <!-- –í—ã–±–æ—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ -->
  <div style="margin: 10px 0;">
    <label>–°–æ—Ç—Ä—É–¥–Ω–∏–∫:</label><br>
    <select id="batchEmpSelect" class="batch-user-select">
      <!-- –û–ø—Ü–∏–∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è JS -->
    </select>
  </div>

  <!-- –í—ã–±–æ—Ä —Å–º–µ–Ω—ã -->
  <div style="margin: 10px 0;">
    <label>–°–º–µ–Ω–∞:</label><br>
    <select id="batchShiftSelect" class="batch-shift-select">
      <!-- –û–ø—Ü–∏–∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –∏–∑ SHIFT_TYPES -->
    </select>
  </div>

  <!-- –í—ã–±–æ—Ä –¥–∞—Ç (multiple) -->
  <div style="margin: 10px 0;">
    <label>–î–∞—Ç—ã:</label><br>
    <select id="batchDatesSelect" multiple size="31" class="batch-date-select">
      <!-- –û–ø—Ü–∏–∏: —á–∏—Å–ª–∞ –º–µ—Å—è—Ü–∞ -->
    </select>
  </div>

  <div class="btn-set-close">
    <button onclick="applyBatchShifts()">‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
    <button class="btn-closes" onclick="closeBath()">‚ùå –û—Ç–º–µ–Ω–∞</button>
  </div>

</div>

 <!-- –ë–∞–∑–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ -->
<div id="employeesPanel" class="panel-hidden" style="margin-top:20px; padding:15px; border:1px solid #ccc; border-radius:8px;">

  <div class="employees-header">
    <span>–ë–∞–∑–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</span>
    <button onclick="closeEmployeesPanel()">‚úñ</button>
</div>
  <div id="employeesList"></div>
</div>

<div id="print-container" style="display: none;"></div>


	<script src="js/auth.js"></script>
	<script>
        // –ó–∞—â–∏—â–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É
        if (Auth.protectPage()) {
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            Auth.updateUI();
        }
    </script>
	
	<script src="../burgerMenu/menu.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
  <script src="database.js"></script>
  <script src="employees.js"></script>
  <script src="schedule.js"></script>
  <script src="render.js"></script>
  <script src="app.js"></script>
  <script src="grafik_type_2.js"></script>
</body>
</html>
